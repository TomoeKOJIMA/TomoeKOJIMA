<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品解説</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            background-color: #333;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-top: 5vh;
            box-sizing: border-box;
        }
        #image-mask {
            width: 100%;
            max-width: 850px;
            height: 0;
            overflow: hidden;
            /* 表示が切り替わるアニメーションを少しだけ滑らかにする（任意） */
            transition: height 0.2s ease-in-out;
        }
        #image-mask img {
            display: block;
            width: 100%;
        }
    </style>
</head>
<body>

    <div id="image-mask">
        <img id="reveal-image" src="gallery1_plan.png" alt="Loading Document...">
    </div>

    <script>
        const mask = document.getElementById('image-mask');
        const image = document.getElementById('reveal-image');
        let fullHeight = 0;
        let currentStep = 0;

        // ▼ ブロックの区切り位置をここで定義します ▼
        // 4つのブロックに分ける例 (25% -> 50% -> 75% -> 100%)
        const blockBoundaries = [0.25, 0.5, 0.75, 1.0];

        function showNextBlock() {
            // 全てのブロックを表示したら終了
            if (currentStep >= blockBoundaries.length) return;

            // 次に表示するブロックの高さを計算
            const targetPercent = blockBoundaries[currentStep];
            const targetHeight = fullHeight * targetPercent;
            
            // マスクの高さを一気に変更してブロックを表示
            mask.style.height = targetHeight + 'px';
            
            currentStep++; // 次のステップへ

            // 次のブロックが表示されるまでの時間をランダムに決める
            const randomDelay = Math.random() * 1500 + 800; // 0.8秒～2.3秒
            setTimeout(showNextBlock, randomDelay);
        }

        // 画像の高さが取得できるのを待ってから、処理を開始
        const startupInterval = setInterval(() => {
            if (image.scrollHeight > 0) {
                clearInterval(startupInterval);
                fullHeight = image.scrollHeight;
                // 最初のブロック表示を予約
                setTimeout(showNextBlock, 1000); // 1秒後に開始
            }
        }, 100);
    </script>

</body>
</html>
